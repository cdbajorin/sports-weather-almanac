<!-- ordered from recent to older. min_temp_array[0] is last year.
Some years have nils for unavailable data from the first API. We
need to generate API keys to get info from the second one ASAP if
we want more than 6 years.
 -->


<%% min_temp_array = splitToNumArray(min_temp) %>
<%% mean_temp_array = splitToNumArray(mean_temp) %>
<%% max_temp_array = splitToNumArray(max_temp) %>
<%% min_wind_array = splitToNumArray(min_wind) %>
<%% mean_wind_array = splitToNumArray(mean_wind) %>
<%% max_wind_array = splitToNumArray(max_wind) %>
<%% cloud_cover_array = splitToNumArray(cloud_cover) %>
<%% humidity_array = splitToNumArray(humidity) %>
<%% precip_array = splitToNumArray(precipitation) %>

<!--
<h1>min temp array: <%%= min_temp_array %></h1>
<h1>mean temp array: <%%= mean_temp_array %></h1>
<h1>max temp array: <%%= max_temp_array %></h1>
<h1>min wind array: <%%= min_wind_array %></h1>
<h1>min wind array: <%%= mean_wind_array %></h1>
<h1>min wind array: <%%= max_wind_array %></h1>
<h1>cloud cover string: <%%= cloud_cover_array %></h1>
<h1>humidity string: <%%= humidity_array %></h1>
<h1>precipiation string: <%%= precip_array %></h1>
 -->

<%% dataset = combineMinMeanMax(min_temp_array, mean_temp_array, max_temp_array) %>

<%= radio_button_tag "weather", "temperature" %>
<%= label_tag "weather_temperature", "Temperature" %>


<%= radio_button_tag "weather", "wind" %>
<%= label_tag "weather_wind", "Wind" %>


<%= radio_button_tag "weather", "precipitation" %>
<%= label_tag "weather_precipitation", "Precipitation" %>


<%%= makeBoxes(dataset) %>

<%%= make_axes(dataset) %>

<script type="text/javascript">
$(function(){

  $("g.year-g").click(function(){

    var yearIndex = $(this).attr("id");
    yearIndex = parseInt(yearIndex.replace("g-", ""))
    console.log(yearIndex)

    console.log(precip_array[yearIndex])
    var precip_1 = precip_array[yearIndex]
    $("body").append()
  })





});
</script>
